# 统计学简介

## 1.  抽样 sampling

### 1.1 抽样 (Sampling in Statistics)数学和统计定义

- 抽样是从一个总体 (Population) 中选取一个子集 (Sample) 的过程。
- 假设总体是集合 $\mathcal{P}$，其大小为 $N$，抽样选取的样本集合记为 $\mathcal{S} \subset \mathcal{P}$，样本大小为 $n$，其中 $n \ll N$。
**核心目标**
- **统计推断** ：通过研究样本 $\mathcal{S}$，估计总体 $\mathcal{P}$ 的参数（如均值、方差、分布等）。

- **核心问题** ：如何保证样本具有代表性，以减少总体与样本之间的误差。
**数学方法**
- 随机抽样：样本是从总体中独立且等概率地抽取的，每个元素被抽取的概率为 $\frac{1}{N}$。
- 分层抽样：总体分为若干子集，分别从每个子集中按比例抽取样本。
- 样本均值：$ \bar{x} = \frac{1}{n} \sum_{i=1}^n x_i$

样本均值是总体均值的无偏估计。

### 1.2 **统计依据**

- **大数定律** ：样本量 $n$ 越大，样本均值 $\bar{x}$ 趋近于总体均值 $\mu$。

- **中心极限定理** ：当样本量足够大时，样本均值 $\bar{x}$ 的分布接近正态分布。

    **应用示例**

    1. **调查研究** ：从城市中的居民中随机抽取 1000 人，调查他们的收入分布。

    2. **机器学习** ：从一个大规模数据集中选取子集，用于训练模型。

### 1.3 和 **采样 (Signal Sampling in Mathematics)** 的区别

- 采样是从一个连续信号 $f(t)$ 中，按照一定规则在离散点 $\{t_n\}$ 上取值，形成离散信号 $f[n]$ 的过程。
- 离散化的信号表示为：

$$
 f[n] = f(t_n), \quad t_n = nT, \quad n \in \mathbb{Z}
$$


其中 $T$ 是采样间隔，$1/T$ 是采样频率。

核心区别

- **抽样** ：研究离散总体的子集，推断总体特性。
- **采样** ：将连续信号离散化，为数字处理或分析做准备。
**操作对象**
- **抽样** ：离散总体（有限集合）。
- **采样** ：连续信号（时间域或空间域函数）。
**理论依据**

| 特性 | 抽样 | 采样 |
| --- | --- | --- |
| 基础理论 | 大数定律、中心极限定理 | 奈奎斯特采样定理、插值理论 |
| 样本代表性 | 随机性和覆盖性是关键 | 采样频率决定是否能够还原信号 |
**数学公式** | 特性 | 抽样公式 | 采样公式 |
| --- | --- | --- |
| 均值估计 | $\bar{x}=\frac{1}{n}\sum_{i=1}^n x_i$ | $f[n]=f(tn),t_n = nT$ |
| 误差范围 | 标准误差：$text{SE} = \frac{\sigma}{\sqrt{n}}$​ | 采样误差：由混叠频率引起 |

## 2. 大数定律 (LLN)

在大数定律中，**样本平均值** 的定义为：$ \bar{X}_n = \frac{1}{n} \sum_{i=1}^n X_i$,
其中 $X_1, X_2, \dots, X_n$ 是独立同分布的随机变量，具有期望值 $\mu = \mathbb{E}[X_i]$ 和有限方差 $\sigma^2 = \mathrm{Var}(X_i)$。

**大数定律的结论：**

$$
 \bar{X}_n \xrightarrow{\text{a.s.}} \mu, \quad \text{或者} \quad \mathbb{P}(|\bar{X}_n - \mu| > \epsilon) \to 0 \; (\forall \epsilon > 0, \; n \to \infty).
$$

**大数定律的关键点：**

- 它研究的是 $\bar{X}_n$ 的长期行为（随着 $n \to \infty$）。
- 它不涉及样本平均值的概率分布或波动性，只强调$\bar{X}_n$会逐渐接近 $\mu$。

## 3 中央极限定理 (CLT)

在中央极限定理中，考虑的也是**样本平均值** ：$\bar{X}_n = \frac{1}{n} \sum_{i=1}^n X_i$.

但这里进一步研究了$\bar{X}_n$ 的波动性或概率分布的行为。

**标准化形式：**

我们构造一个标准化的随机变量 $Z_n$，用来衡量 $\bar{X}_n$ 偏离期望值的程度：

$$Z_n = \frac{\sqrt{n}(\bar{X}_n - \mu)}{\sigma}.$$


**CLT 的结论：**
当 $n \to \infty$，标准化的变量 $Z_n$ 的分布收敛于标准正态分布：$Z_n \xrightarrow{d} N(0, 1)$。

这说明：

- **样本平均值** 在 $n$ 足够大时的分布会趋于正态分布，且中心是 $\mu$，标准差是 $\frac{\sigma}{\sqrt{n}}$。

- 样本平均值 $\bar{X}_n$ 的分布近似为：

$$
 \bar{X}_n \sim N\left(\mu, \frac{\sigma^2}{n}\right).
$$


## 4. 中心极限定理和大数定律两个平均值的核心差异

**差异的核心：**

- **LLN 的平均值** ：关注 $\bar{X}_n$ 是否在 $n \to \infty$ 时收敛到一个固定值 $\mu$。
- **CLT 的平均值** ：关注 $\bar{X}_n$ 在有限 $n 时的概率分布行为（波动性）。

**用数学公式表示：**

1. **LLN**  描述：

$$
 \bar{X}_n \xrightarrow{\text{a.s.}} \mu \quad \text{（收敛到期望值 \(\mu\)）}.
$$


1. **CLT**  描述：

$$
 \sqrt{n}(\bar{X}_n - \mu) \xrightarrow{d} N(0, \sigma^2) \quad \text{（描述标准化偏差的分布行为）}.
$$


**公式差异总结：**

- 在 LLN 中，强调的是：

$$
 \bar{X}_n \approx \mu \quad (\text{当 } n \to \infty).
$$


即，随着 $n$ 增加，样本平均值$\bar{X}_n$ 越来越接近期望值 $\mu$。

- 在 CLT 中，强调的是：

$$
 \bar{X}_n \sim N\left(\mu, \frac{\sigma^2}{n}\right),
$$

即，样本平均值在有限 $n$ 时服从正态分布，方差 $\sigma^2 / n$ 会随着 $n$ 增大逐渐减小，但存在波动性。

**直观解释两者差异：**

- **LLN** ：告诉我们，当 $n$ 越来越大时，$\bar{X}_n$ 最终会无限接近于期望值 $\mu$（值越来越稳定）。
- **CLT** ：告诉我们，对于有限的 $n$，$\bar{X}_n$ 仍然有波动，并且这种波动遵循正态分布，且波动范围随 $n$ 增大而减小（$\sim \frac{1}{\sqrt{n}}$）。
**例子**

假如你测量某机器零件的长度，单个零件的长度是随机变量 $X$:

- **大数定律** ：如果你测量 $n$ 个零件，计算它们的平均长度 $\bar{X}_n$，当 $n$ 足够大时，这个平均值会无限接近于零件的真实平均长度（期望值 $\mu$）。
- **中央极限定理** ：如果 $n$ 不是无限大（比如 $n = 100$)),那么平均长度 $\bar{X}_n$ 会在某个范围内波动，且这种波动的概率分布是正态分布。

**总结：LLN 和 CLT 的平均值差异**

1. **LLN**  研究的是 $\bar{X}_n$ 是否稳定并最终收敛到 $\mu$，强调长期收敛性。

2. **CLT**  研究的是 $\bar{X}_n$ 的分布如何演变为正态分布，强调分布形状和波动性。

用更直观的比喻：

- **LLN**  就像你测量很多次，逐渐逼近“真实值”。

- **CLT**  告诉你在有限次测量时，这个“逼近值”有多大的波动范围，以及波动的概率分布是什么样的。

## 5. change of variable

随机变量分布的 **Change of Variable** （变量变换）是概率论中一个重要的公式，用于描述当随机变量通过某种函数进行变换时，其概率密度如何变化。

**公式推导** 假设我们有一个随机变量 $z$，其概率密度为 $p_Z(z)$，并定义了一个可逆变换 $z = f(x)$，其逆变换为 $x = f^{-1}(z)$。目标是求变换后随机变量 $x$ 的概率密度 $p_X(x)$。

**Change of Variable 定理** 当 $z = f(x)$ 且变换 $f(x)$ 可逆时，变换后的概率密度 $p_X(x)$ 可以通过以下公式计算：$
 p_X(x) = p_Z(f(x)) \cdot \left| \det \left( \frac{\partial f(x)}{\partial x} \right) \right|
$

- $p_Z(f(x))$：是原始变量 $z$ 的概率密度函数值。

- $\frac{\partial f(x)}{\partial x}$：是变换 $f(x)$ 的雅可比矩阵（Jacobian Matrix）。

- $\det \left( \frac{\partial f(x)}{\partial x} \right)$：是雅可比矩阵的行列式，表示变换对概率密度的缩放程度。

- $\left| \cdot \right|$：是行列式的绝对值，因为概率密度需要非负。

**直观理解**

1. **变换带来的密度变化** ：
如果变换 $f(x)$ 压缩了某一区域的体积（即行列式小于 1），则该区域的概率密度会增加；反之，如果体积扩大，则概率密度会减小。

2. **概率保持不变** ：
随机变量的总概率始终为 1，因此变换只改变密度的分布形式，而不改变总体积。

**一维情况** 在一维情况下（即 $z$ 和 $x$ 是标量），雅可比矩阵 $\frac{\partial f(x)}{\partial x}$ 退化为导数 $f'(x)$，公式简化为：$
 p_X(x) = p_Z(f(x)) \cdot \left| f'(x) \right|
$

例如：

- 如果 $z \sim \mathcal{N}(0, 1)$ 且 $z = f(x) = 2x + 3$，则：
$
 p_X(x) = \mathcal{N}(f(x) \mid 0, 1) \cdot \left| f'(x) \right| = \mathcal{N}(2x + 3 \mid 0, 1) \cdot 2
$

**多维情况** 在多维情况下（即 $z$ 和 $x$ 是向量），需要使用雅可比矩阵。雅可比矩阵定义为：$
 J_f(x) = \frac{\partial f(x)}{\partial x} =
\begin{bmatrix}
\frac{\partial f_1}{\partial x_1} & \cdots & \frac{\partial f_1}{\partial x_n} \\
\vdots & \ddots & \vdots \\
\frac{\partial f_m}{\partial x_1} & \cdots & \frac{\partial f_m}{\partial x_n}
\end{bmatrix}
$

多维情况下，公式为：$p_X(x) = p_Z(f(x)) \cdot \left| \det J_f(x) \right|$
