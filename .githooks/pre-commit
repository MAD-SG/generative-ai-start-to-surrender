#!/bin/bash

# Find all modified markdown files in the commit
FILES=$(git diff --cached --name-only --diff-filter=ACM | grep -E '\.md$')

if [ -z "$FILES" ]; then
  echo "No markdown files to process."
  exit 0
fi

echo "Processing markdown files: $FILES"

# Call the add_blank_lines.sh script for each file
for file in $FILES; do
  echo "Running add_blank_lines.sh on $file"
  ./scripts/add_blank_lines.sh "$file"
done

# Re-add the updated files to the commit
git add $FILES

exit 0
